<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Functoria_key.html">
<link rel="next" href="Functoria_runtime.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Functoria" rel="Chapter" href="Functoria.html">
<link title="Functoria_misc" rel="Chapter" href="Functoria_misc.html">
<link title="Functoria_key" rel="Chapter" href="Functoria_key.html">
<link title="Functoria_dsl" rel="Chapter" href="Functoria_dsl.html">
<link title="Functoria_runtime" rel="Chapter" href="Functoria_runtime.html">
<link title="Functoria_info" rel="Chapter" href="Functoria_info.html"><link title="Module combinators" rel="Section" href="#2_Modulecombinators">
<link title="Keys" rel="Section" href="#2_Keys">
<link title="Declaring new modules" rel="Section" href="#2_Declaringnewmodules">
<link title="DSL extension" rel="Section" href="#2_DSLextension">
<link title="Sharing" rel="Subsection" href="#3_Sharing">
<link title="Misc" rel="Subsection" href="#3_Misc">
<title>Functoria : Functoria_dsl</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Functoria_key.html" title="Functoria_key">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Functoria_runtime.html" title="Functoria_runtime">Next</a>
</div>
<h1>Module <a href="type_Functoria_dsl.html">Functoria_dsl</a></h1>

<pre><span class="keyword">module</span> Functoria_dsl: <code class="code"><span class="keyword">sig</span></code> <a href="Functoria_dsl.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Core functoria DSL<br>
</div>
<hr width="100%">
<br>
<h2 id="2_Modulecombinators">Module combinators</h2><br>

<pre><code><span id="TYPEtyp"><span class="keyword">type</span> <code class="type">'_</code> typ</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTtyp.Type"><span class="constructor">Type</span></span> <span class="keyword">:</span> <code class="type">'a</code> <span class="keyword">-></span> <code class="type">'a <a href="Functoria_dsl.html#TYPEtyp">typ</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTtyp.Function"><span class="constructor">Function</span></span> <span class="keyword">:</span> <code class="type">'a0 <a href="Functoria_dsl.html#TYPEtyp">typ</a> * 'b <a href="Functoria_dsl.html#TYPEtyp">typ</a></code> <span class="keyword">-></span> <code class="type">('a0 -> 'b) <a href="Functoria_dsl.html#TYPEtyp">typ</a></code></code></td>

</tr></table>

<div class="info ">
The type of values representing module types.<br>
</div>


<pre><span id="VALtyp"><span class="keyword">val</span> typ</span> : <code class="type">'a -> 'a <a href="Functoria_dsl.html#TYPEtyp">typ</a></code></pre><div class="info ">
Create a new type.<br>
</div>

<pre><span id="VAL(@->)"><span class="keyword">val</span> (@-&gt;)</span> : <code class="type">'a <a href="Functoria_dsl.html#TYPEtyp">typ</a> -> 'b <a href="Functoria_dsl.html#TYPEtyp">typ</a> -> ('a -> 'b) <a href="Functoria_dsl.html#TYPEtyp">typ</a></code></pre><div class="info ">
Construct a functor type from a type and an existing functor
    type. This corresponds to prepending a parameter to the list of
    functor parameters. For example:
<p>

    <pre class="codepre"><code class="code">&nbsp;kv_ro&nbsp;@-&gt;&nbsp;ip&nbsp;@-&gt;&nbsp;kv_ro&nbsp;</code></pre>
<p>

    This describes a functor type that accepts two arguments -- a
    <code class="code">kv_ro</code> and an <code class="code">ip</code> device -- and returns a <code class="code">kv_ro</code>.<br>
</div>

<pre><span id="TYPEimpl"><span class="keyword">type</span> <code class="type">'a</code> impl</span> </pre>
<div class="info ">
The type of values representing module implementations.<br>
</div>


<pre><span id="VAL($)"><span class="keyword">val</span> ($)</span> : <code class="type">('a -> 'b) <a href="Functoria_dsl.html#TYPEimpl">impl</a> -><br>       'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> 'b <a href="Functoria_dsl.html#TYPEimpl">impl</a></code></pre><div class="info ">
<code class="code">m $ a</code> applies the functor <code class="code">m</code> to the module <code class="code">a</code>.<br>
</div>

<pre><code><span id="TYPEany_impl"><span class="keyword">type</span> <code class="type"></code>any_impl</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTany_impl.Any"><span class="constructor">Any</span></span> <span class="keyword">:</span> <code class="type">'a <a href="Functoria_dsl.html#TYPEimpl">impl</a></code> <span class="keyword">-></span> <code class="type"><a href="Functoria_dsl.html#TYPEany_impl">any_impl</a></code></code></td>

</tr></table>

<div class="info ">
Type of an implementation, with its type variable hidden.<br>
</div>


<pre><span id="VALhidden"><span class="keyword">val</span> hidden</span> : <code class="type">'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> <a href="Functoria_dsl.html#TYPEany_impl">any_impl</a></code></pre><div class="info ">
<code class="code">hiddent t</code> is <code class="code">t</code> but with a hidden type variable. Useful for
    dependencies.<br>
</div>
<br>
<h2 id="2_Keys">Keys</h2><br>

<pre><span class="keyword">module</span> <a href="Functoria_dsl.Key.html">Key</a>: <code class="type">module type of struct include <a href="Functoria_key.html">Functoria_key</a> end</code></pre><div class="info">
Key creation and manipulation.
</div>

<pre><span id="VALif_impl"><span class="keyword">val</span> if_impl</span> : <code class="type">bool Key.value -><br>       'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a></code></pre><div class="info ">
<code class="code">if_impl v impl1 impl2</code> is <code class="code">impl1</code> if <code class="code">v</code> is resolved to true and
    <code class="code">impl2</code> otherwise.<br>
</div>

<pre><span id="VALswitch"><span class="keyword">val</span> switch</span> : <code class="type">default:'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -><br>       ('b * 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a>) list -><br>       'b Key.value -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a></code></pre><div class="info ">
<code class="code">switch ~default l v</code> choose the implementation in <code class="code">l</code>
    corresponding to the value <code class="code">v</code>.  The <code class="code">default</code> implementation is
    chosen if no value match.<br>
</div>
<br>
<h2 id="2_Declaringnewmodules">Declaring new modules</h2><br>

<pre><span id="VALforeign"><span class="keyword">val</span> foreign</span> : <code class="type">?keys:Key.t list -><br>       ?libraries:string list -><br>       ?packages:string list -><br>       ?dependencies:<a href="Functoria_dsl.html#TYPEany_impl">any_impl</a> list -><br>       string -> 'a <a href="Functoria_dsl.html#TYPEtyp">typ</a> -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a></code></pre><div class="info ">
<code class="code">foreign name typ</code> states that the module named by <code class="code">name</code> has the
    module type <code class="code">typ</code>.<br>
</div>
<div class="param_info"><code class="code">keys</code> : The keys related to this module.</div>
<div class="param_info"><code class="code">libraries</code> : The ocamlfind libraries needed by this module.</div>
<div class="param_info"><code class="code">packages</code> : The opam packages needed by this module.</div>
<div class="param_info"><code class="code">dependencies</code> : The data-dependencies needed by this module.
           You must use <a href="Functoria_dsl.html#VALhidden"><code class="code"><span class="constructor">Functoria_dsl</span>.hidden</code></a> to pass an arbitrary implementation.</div>

<pre><span id="TYPEjob"><span class="keyword">type</span> <code class="type"></code>job</span> </pre>
<div class="info ">
Type for job values.<br>
</div>


<pre><span id="VALjob"><span class="keyword">val</span> job</span> : <code class="type"><a href="Functoria_dsl.html#TYPEjob">job</a> <a href="Functoria_dsl.html#TYPEtyp">typ</a></code></pre><div class="info ">
Representation of a job.<br>
</div>
<br>
<h2 id="2_DSLextension">DSL extension</h2><br>

<pre><span class="keyword">module</span> <a href="Functoria_dsl.Info.html">Info</a>: <code class="code"><span class="keyword">sig</span></code> <a href="Functoria_dsl.Info.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Information available during configuration.
</div>

<pre><span id="TYPEconfigurable"><span class="keyword">class type</span> <code class="type">['ty]</code> <a href="Functoria_dsl.configurable-c.html">configurable</a></span> = <code class="code"><span class="keyword">object</span></code> <a href="Functoria_dsl.configurable-c.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
Signature for configurable devices.
</div>

<pre><span id="VALimpl"><span class="keyword">val</span> impl</span> : <code class="type">'a <a href="Functoria_dsl.configurable-c.html">configurable</a> -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a></code></pre><div class="info ">
Create an implementation based on a specified device.<br>
</div>

<pre><span name="TYPEbase_configurable"><span class="keyword">class</span> <a href="Functoria_dsl.base_configurable-c.html">base_configurable</a></span> : <code class="type"></code><code class="code"><span class="keyword">object</span></code> <a href="Functoria_dsl.base_configurable-c.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
The base configurable pre-defining many methods.
</div>
<br>
<h3 id="3_Sharing">Sharing</h3><br>

<pre><span id="VALhash"><span class="keyword">val</span> hash</span> : <code class="type">'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> int</code></pre><div class="info ">
Hash an implementation.<br>
</div>

<pre><span id="VALequal"><span class="keyword">val</span> equal</span> : <code class="type">'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -> bool</code></pre>
<pre><span class="keyword">module</span> <a href="Functoria_dsl.ImplTbl.html">ImplTbl</a>: <code class="type">Hashtbl.S</code><code class="type">  with type key = any_impl</code></pre><div class="info">
Hashtbl of implementations.
</div>
<br>
<h3 id="3_Misc">Misc</h3><br>

<pre><span id="VALexplode"><span class="keyword">val</span> explode</span> : <code class="type">'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> -><br>       [ `App of <a href="Functoria_dsl.html#TYPEany_impl">any_impl</a> * <a href="Functoria_dsl.html#TYPEany_impl">any_impl</a><br>       | `If of<br>           bool Key.value * 'a <a href="Functoria_dsl.html#TYPEimpl">impl</a> *<br>           'a <a href="Functoria_dsl.html#TYPEimpl">impl</a><br>       | `Impl of 'a <a href="Functoria_dsl.configurable-c.html">configurable</a> ]</code></pre></body></html>