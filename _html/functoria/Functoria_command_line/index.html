<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Functoria_command_line (functoria.Functoria_command_line)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">functoria</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Functoria_command_line</span></h1></header><p>Functions for reading various options from a command line.</p><div class="spec val" id="val-setup_log"><a href="#val-setup_log" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>setup_log : unit Cmdliner.Term.t</code></div><div class="doc"></div></div><div class="spec val" id="val-config_file"><a href="#val-config_file" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>config_file : (Fpath.t <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit Cmdliner.Term.t</code></div><div class="doc"></div></div><div class="spec val" id="val-build_dir"><a href="#val-build_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>build_dir : (Fpath.t <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit Cmdliner.Term.t</code></div><div class="doc"></div></div><div class="spec val" id="val-output"><a href="#val-output" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>output : string option Cmdliner.Term.t</code></div><div class="doc"></div></div><div class="spec val" id="val-read_full_eval"><a href="#val-read_full_eval" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>read_full_eval : string array <span class="keyword">&#8209;&gt;</span> bool option</code></div><div class="doc"><p><code class="code">read_full_eval argv</code> reads the --eval option from <code class="code">argv</code>; the return
value is <code class="code">None</code> if option is absent in <code class="code">argv</code>.</p></div></div><div class="spec type" id="type-configure_args"><a href="#type-configure_args" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a configure_args</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-configure_args.result" class="anchored"><td class="def field"><a href="#type-configure_args.result" class="anchor"></a><code>result : <span class="type-var">'a</span>;</code></td></tr><tr id="type-configure_args.output" class="anchored"><td class="def field"><a href="#type-configure_args.output" class="anchor"></a><code>output : string option;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>A value of type <code class="code">configure_args</code> is the result of parsing the arguments of
a <code class="code">configure</code> subcommand.</p></div></div><div class="spec type" id="type-describe_args"><a href="#type-describe_args" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a describe_args</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-describe_args.result" class="anchored"><td class="def field"><a href="#type-describe_args.result" class="anchor"></a><code>result : <span class="type-var">'a</span>;</code></td></tr><tr id="type-describe_args.dotcmd" class="anchored"><td class="def field"><a href="#type-describe_args.dotcmd" class="anchor"></a><code>dotcmd : string;</code></td></tr><tr id="type-describe_args.dot" class="anchored"><td class="def field"><a href="#type-describe_args.dot" class="anchor"></a><code>dot : bool;</code></td></tr><tr id="type-describe_args.output" class="anchored"><td class="def field"><a href="#type-describe_args.output" class="anchor"></a><code>output : string option;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>A value of type <code class="code">describe_args</code> is the result of parsing the arguments to
a <code class="code">describe</code> subcommand.</p><p>The <code class="code">result</code> field holds the result of parsing the &quot;additional&quot; arguments
whose specification is passed as the <code class="code">describe</code> argument to
<a href="index.html#val-parse_args">parse_args</a>.</p></div></div><div class="spec type" id="type-action"><a href="#type-action" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a action</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-action.Configure" class="anchored"><td class="def constructor"><a href="#type-action.Configure" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Configure</span><span class="keyword"> of </span><span class="type-var">'a</span> <a href="index.html#type-configure_args">configure_args</a></code></td></tr><tr id="type-action.Describe" class="anchored"><td class="def constructor"><a href="#type-action.Describe" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Describe</span><span class="keyword"> of </span><span class="type-var">'a</span> <a href="index.html#type-describe_args">describe_args</a></code></td></tr><tr id="type-action.Build" class="anchored"><td class="def constructor"><a href="#type-action.Build" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Build</span><span class="keyword"> of </span><span class="type-var">'a</span></code></td></tr><tr id="type-action.Clean" class="anchored"><td class="def constructor"><a href="#type-action.Clean" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Clean</span><span class="keyword"> of </span><span class="type-var">'a</span></code></td></tr><tr id="type-action.Help" class="anchored"><td class="def constructor"><a href="#type-action.Help" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Help</span></code></td><td class="doc"><p>(** A value of type <code class="code">action</code> is the result of parsing command-line arguments using
<code class="code">parse_args</code>. *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-pp_action"><a href="#val-pp_action" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_action : <span class="type-var">'a</span> Fmt.t <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-action">action</a> Fmt.t</code></div><div class="doc"><p><code class="code">pp_action</code> is the pretty-printer for actions.</p></div></div><div class="spec val" id="val-parse_args"><a href="#val-parse_args" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parse_args : ?&#8288;help_ppf:Format.formatter <span class="keyword">&#8209;&gt;</span> ?&#8288;err_ppf:Format.formatter <span class="keyword">&#8209;&gt;</span> name:string <span class="keyword">&#8209;&gt;</span> version:string <span class="keyword">&#8209;&gt;</span> configure:<span class="type-var">'a</span> Cmdliner.Term.t <span class="keyword">&#8209;&gt;</span> describe:<span class="type-var">'a</span> Cmdliner.Term.t <span class="keyword">&#8209;&gt;</span> build:<span class="type-var">'a</span> Cmdliner.Term.t <span class="keyword">&#8209;&gt;</span> clean:<span class="type-var">'a</span> Cmdliner.Term.t <span class="keyword">&#8209;&gt;</span> help:<span class="type-var">_</span> Cmdliner.Term.t <span class="keyword">&#8209;&gt;</span> string array <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-action">action</a> Cmdliner.Term.result</code></div><div class="doc"><p>Parse the functoria command line. The arguments to <code class="code">~configure</code>,
<code class="code">~describe</code>, etc., describe extra command-line arguments that should be
accepted by the corresponding subcommands. The full argument
specification is as follows:</p><p>name configure <code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code><code class="code">extra arguments</code>
name describe <code class="code">--eval</code><code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code><code class="code">-o FILE | --output=FILE</code><code class="code">--dot-command=COMMAND</code><code class="code">--dot</code><code class="code">extra arguments</code>
name build <code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code><code class="code">extra arguments</code>
name clean <code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code><code class="code">extra arguments</code>
name help <code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code><code class="code">--man-format=(groff|pager|plain)</code><code class="code">configure|describe|build|clean|help|topics</code><code class="code">extra arguments</code>
name <code class="code">-v|--verbose</code><code class="code">--color=(auto|always|never)</code></p><p>There are no side effects, save for the printing of usage messages and
other help when either the 'help' subcommand or no subcommand is specified.</p></div></div></body></html>